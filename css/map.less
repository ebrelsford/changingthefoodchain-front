@hover-popup-background-color: fadeout(@foreground-color, 10%);
@hover-popup-font-family: "Monosten C", Courier, monospace;
@hover-popup-text-color: @cream;

#map {
    overflow: hidden;
    height: 100%;
    width: 100%;

    .mapbox-maplogo {
        .opacity(.4);
        position: absolute;
        display: block;
        height: 20px;
        width: 65px;
        left: @left;
        bottom: @bottom;
        text-indent: -9999px;
        z-index: @interface-z-index - 10;
        overflow: hidden;
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAAAoCAMAAAAFWtJHAAAAwFBMVEUAAAAAAAAAAABtbW0AAAAAAAAAAAAAAAAAAAAAAAClpaUAAADp6ekAAAD5+fna2toAAAAMDAzv7+/Nzc0AAAA2Njb8/Pz9/f3T09MAAAAAAAD7+/sAAAArKyuxsbH39/fs7OwbGxuIiIjz8/N8fHyenp7u7u74+PgAAAC8vLxWVlbx8fF1dXXl5eVcXFyUlJTQ0NDFxcVCQkLAwMC4uLj19fXo6OjW1tarq6ve3t77+/vi4uL6+vrKysrNzc3///8w7gSSAAAAP3RSTlMAOQNdPSYBPywKexLLGPCxNEHXnzFL+v2nGwf1IEiE6dBFad9jd9PuLo1V2mDDV3Cjl06SiuXIq4C3973ym6BQMVUPAAAEXElEQVR4Ae2WCVP6OBiH05L0l1IqrVbkKHJ54I0oHn+PfP9vtUle0z/YdhbH2XVnd58ZnRJIeHiPJOx//mH4vQSAN+8FjAhFxgHIaPvJeZ99hxwEElon5iAQbj85Y98g8ODwjEOMAvGFyeE3FEKgodTBqj0BJGN9DhyNd5Ta3ean9QEopfaA+LsKhnEKRExqg4FSP6Og7oEkAjBWnxSCgBX4xF+kcLoPcOBQrSv0e5kH7s1j37jECQieCTPiFGxL5VHw2zQWCeeJiPt6kjRQw0XSkIdVChf67xGa4alSnZlT6HEQ8CK9ANbhvXUF9xlDkBfTuHDWScgC9+z5FQpPI12TlwC6+sV7ixR8CUMKiwjm2GQeOQWHMGuHGdbnObJAwCEqFJpNU5H6uaPUaEIKiQfg+PHk1+u4OwW9PlWW2ctbA4BHCtp+cNK+H8Jos4gDmC5ar4Nx9waaG/2B13NgDqS7+vm2RgEtEws82P+kwIHhs/pgkQKcFIhfd7CogtGNjYMHTLpurD0ERbYFw4JaD3GlQuNAL/JEsSAF4HqlCnaHACk4WhOn4OgCkMD5hSpYNYDJTD8Y46n+jsE1kPhVCuR6QBXhFK7MUOu9O6b1SWF3b+/9ZVWMGOlu93E8UDaAhgc7bfH+0DHqKXCkHzoNDFfU+zxiVQrUC9QXTuHYtKpN59OA3IxCG4b7jh6ZFuVockaNTW09mkJzOaPU49a6mE9cAchZpQJNpUWcwgV9r6FJswsFKrITp2B5pMBMdnS0z2HZNy2+BNKxSZxZfglkrFYBJxQnpzA5sN/HheR2aFQoZBLAi149dQoyAYYjW0hHlHguBAdMcR0DuDZ5omevX6+AI8qcU7ikKT3GBHCnXwydgmCC0tRwCnGQ2Wp6Be71yNIWfQSkOl9vAI1SBCNWrwC01RROgX7BuT2HI4r7tFAw086p/NwZEdOEa7R1uAFuNmQPuKAEAjYNQ0CyeoUEWHYBnpQVQgpvc0Ph+gsKlAnKg1+vEHsw5LKciLKCAJobiWBzYFGbCKpHqkZZrxBFHEASyFI59vJPCskcwNVGOWZAOqsrR+pKbaNeAMT1CixMEtlnsqopNxUMzVJT3tY35aXZm6a6Y9QhwMN6BUJWbE1lhbMO1WehkO7poO0sK7em9MJGxp1XSbC1gtugzzSLQmGsX7VntJGSwsPZ2d2z3bIPKzdoOp3Wzqt8G4XyMVUoFIxLx1S7+piaHtCvR3FeRVsq0GFdp9C5TbGpcNqsPqyHKxcfd14h21KhuLKUFU4f3osrC7F6uV3WXFnadL7wyAPeKDXw2RoJCO5GY4DouYvb/gepVXheLoewzPseQG9N/vzilrMIjoStE3++zvle4eSurw7XEe76ynI4aq+v7lEyt1x5awiFlFLQbHKIpabnM3eJLym4Szzzc/du7SU+zOXv9UNpECH7IoH/gecURPlN9vdQpeD47yhIFNX0U0QgvID9nENm+yxk/xb+AGAjNfRZuk9qAAAAAElFTkSuQmCC);
        background-repeat:no-repeat;
        background-position: 0 0;
        background-size: 65px 20px;
    }
}

.map-active-area {
    position: absolute;
    height: 100%;
    left: 0;
    right: 0;
    top: 0;
}

body.organization-view .map-active-area {
    left: @popup-width;
}

.map-ui-button {
    bottom: @bottom + 25px;
    color: @ui-button-color;
    cursor: pointer;
    display: block;
    position: absolute;
    text-transform: uppercase;
    z-index: @interface-z-index;

    &:hover {
        color: @foreground-color;
    }

    &-icon {
        background-repeat: no-repeat;
        background-size: contain;
        height: 28px;
        margin-bottom: 5px;
        margin-left: auto;
        margin-right: auto;
        width: 28px;
    }
}

.add-organization-button {
    right: @right + 125px;

    @media (max-width: @screen-xs-max) {
        & {
            right: @right-xs + 115px;
        }
    }

    .map-ui-button-icon {
        background-image: data-uri('../img/addorg.png');
    }

    &:hover {
        .map-ui-button-icon {
            background-image: data-uri('../img/addorg_hover.png');
        }
    }
}

#share-button {
    right: @right + 50px;

    @media (max-width: @screen-xs-max) {
        & {
            right: @right-xs + 50px;
        }
    }

    .map-ui-button-icon {
        background-image: data-uri('../img/share.png');
        width: 19px; // Manually setting since it is not square
    }

    &:hover {
        .map-ui-button-icon {
            background-image: data-uri('../img/share_hover.png');
        }
    }
}

#project-authors {
    .hidden-xs();
    bottom: @bottom;
    font-family: @footer-font-family;
    font-size: 12px;
    left: 110px;
    padding-left: 5px;
    padding-right: 5px;
    position: absolute;
    z-index: @interface-z-index;

    a {
        text-decoration: underline;

        &:hover {
            color: @logo-color;
        }
    }
}

.leaflet-bar {
    border-radius: 0;
    box-shadow: none;

    a, a:hover {
        background: transparent;
        border: 2px solid @ui-button-color !important;
        border-radius: 0;
        color: @ui-button-color;
        font-weight: normal;
        height: 30px;
        line-height: 25px;
        width: 30px;

        &:first-child {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
        &:last-child {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            margin-top: 5px;
        }

        &.leaflet-disabled {
            background-color: @faded-color;
        }
    }
}

.leaflet-touch {
    .leaflet-bar {
        border: none;
    }
}

.leaflet-popup {
    &-content-wrapper {
        background-color: @hover-popup-background-color;
        border-radius: 0;
        box-shadow: none;
        color: @hover-popup-text-color;
        font-family: @hover-popup-font-family;
        font-size: 14px;
        font-weight: bold;
    }
    &-tip {
        background-color: @hover-popup-background-color;
    }

    img {
        width: 100%;
    }
}

.leaflet-bottom {
    bottom: @bottom;
}

.leaflet-right {
    right: @right;

    .leaflet-control {
        margin-right: 0;
    }

    @media (max-width: @screen-xs-max) {
        & {
            right: @right-xs;
        }
    }
}

.leaflet-container {
    .leaflet-control-attribution {
        background: transparent;
        color: @foreground-color;
        font-family: @footer-font-family;
        font-size: 10px;

        a {
            color: @foreground-color;
            text-decoration: underline;

            &:hover {
                color: @logo-color;
            }
        }
    }
}
